# 故障排查

## 页面完全不翻译

- 确认扩展已启用且脚本已启用。
- 确认当前页面 URL 命中 `@match`：
  - `old2.user.js` 只匹配 `vercel.com` 与 `*.vercel.com`。
  - `old1.user.js` 额外匹配 `*.vercel.app/*`。
- 打开浏览器开发者工具 Console，查看是否有报错。

## 只翻译一部分

- 文案可能位于跳过区域：
  - 代码块/编辑器（如 `CODE`、`PRE`、monaco 等）通常被加入黑名单以避免破坏内容。
- 文案可能被拆分成多个文本节点：
  - 需要分别为每个片段补齐 key。
- 文案可能来自属性：
  - 输入框 `placeholder`、按钮 `aria-label` 等，需要在词库里补齐对应 key。

## old2.user.js 提示词库加载失败

`old2.user.js` 依赖 `@require` 外部词库脚本，如果加载失败会输出错误日志。

排查步骤：

1. 在 Console 执行 `window.VERCEL_I18N_DATA`，确认是否存在且包含条目。
2. 检查脚本头部 `@require` URL 是否可访问、是否被网络拦截。
3. 若需要离线/稳定运行，优先使用不依赖外部词库的脚本变体，或将词库改为仓库内自带资源。

## 页面卡顿或滚动掉帧

- 大页面频繁变动时，递归遍历可能引发长任务；可优先选择带分片处理的脚本变体。
- 避免为高频通用词设置过宽规则，否则会放大处理量与误翻概率。

